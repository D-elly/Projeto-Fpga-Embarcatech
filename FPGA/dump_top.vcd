$date
	Mon Oct 27 20:20:19 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module tb_top $end
$var wire 1 ! w_spi_dac_sclk $end
$var wire 1 " w_spi_dac_mosi $end
$var wire 1 # w_spi_dac_cs $end
$var parameter 32 $ CLK_PERIOD $end
$var parameter 32 % SPI_PICO_SCLK_PERIOD $end
$var reg 1 & tb_bypass_switch $end
$var reg 1 ' tb_clk_25mhz $end
$var reg 1 ( tb_reset $end
$var reg 1 ) tb_spi_dac_miso $end
$var reg 1 * tb_spi_pico_cs $end
$var reg 1 + tb_spi_pico_mosi $end
$var reg 1 , tb_spi_pico_sclk $end
$scope module dut $end
$var wire 1 ' clk_25mhz $end
$var wire 1 * com_active $end
$var wire 1 + com_mosi_in $end
$var wire 1 , com_sclk_in $end
$var wire 1 ( reset $end
$var wire 1 - spi_miso_out $end
$var wire 1 . teste_mosi $end
$var wire 1 ! spi_sclk_out $end
$var wire 1 " spi_mosi_out $end
$var wire 1 # spi_active_out $end
$var wire 16 / output_audio [15:0] $end
$var wire 16 0 original_audio [15:0] $end
$var wire 1 1 modified_status $end
$var wire 16 2 modified_audio [15:0] $end
$var wire 1 3 data_is_ready $end
$var parameter 32 4 clock_max $end
$var reg 1 5 mode_sound $end
$scope module u_comunication $end
$var wire 1 * active $end
$var wire 1 ' clk_25mhz $end
$var wire 1 + mosi_in $end
$var wire 1 ( reset $end
$var wire 1 , sclk_in $end
$var wire 1 6 sclk_posedge $end
$var parameter 2 7 IDLE $end
$var parameter 2 8 RECEIVING $end
$var parameter 32 9 clock_max $end
$var reg 16 : audio_out [15:0] $end
$var reg 4 ; bit_counter [3:0] $end
$var reg 1 3 data_ready $end
$var reg 1 < sclk_d1 $end
$var reg 1 = sclk_d2 $end
$var reg 16 > shift_reg [15:0] $end
$var reg 2 ? state [1:0] $end
$upscope $end
$scope module u_dac_driver $end
$var wire 1 ' clk_25mhz $end
$var wire 1 3 data_ready $end
$var wire 16 @ mosi_in [15:0] $end
$var wire 1 ( reset $end
$var wire 1 - spi_miso_out $end
$var wire 1 ! spi_sclk_out $end
$var parameter 2 A SPI_IDLE $end
$var parameter 2 B SPI_TRANSFER $end
$var parameter 32 C clock_max $end
$var parameter 32 D sclk_div_count $end
$var reg 4 E bit_counter [3:0] $end
$var reg 1 F busy $end
$var reg 3 G count_clock [2:0] $end
$var reg 1 H internal_clock $end
$var reg 16 I shift_reg [15:0] $end
$var reg 1 # spi_active_out $end
$var reg 1 " spi_mosi_out $end
$var reg 2 J spi_state [1:0] $end
$upscope $end
$scope module u_eff_1 $end
$var wire 16 K audio_in [15:0] $end
$var wire 1 ' clk_25mhz $end
$var wire 1 3 data_ready $end
$var parameter 16 L CLIP_LEVEL $end
$var parameter 32 M clock_max $end
$var reg 16 N audio_out [15:0] $end
$var reg 1 1 process_status $end
$upscope $end
$upscope $end
$scope task send_spi_word $end
$var reg 16 O data_word [15:0] $end
$scope begin $ivl_for_loop0 $end
$var integer 32 P i [31:0] $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b1011111010111100001000000 M
b10011100010000 L
b101 D
b1011111010111100001000000 C
b1 B
b0 A
b1011111010111100001000000 9
b1 8
b0 7
b1011111010111100001000000 4
b111110100 %
b101000 $
$end
#0
$dumpvars
b0 P
bx O
bx N
b0 K
b0 J
b0 I
0H
b0 G
0F
b0 E
b0 @
b0 ?
b0 >
x=
x<
b0 ;
b0 :
x6
05
03
bx 2
x1
b0 0
b0 /
0.
z-
0,
0+
0*
0)
1(
0'
1&
1#
0"
0!
$end
#20000
06
0<
b0 2
b0 N
01
1'
#40000
0'
#60000
0=
1'
#80000
0'
#100000
0(
b1100000011011110 O
1'
#120000
0'
#140000
1*
1'
#160000
0'
#180000
b1 ?
1'
#200000
0'
#220000
1+
1'
b1111 P
#240000
0'
#260000
1'
#280000
0'
#300000
1'
#320000
0'
#340000
1'
#360000
0'
#380000
1'
#400000
0'
#420000
1'
#440000
0'
#460000
1'
#470000
1,
#480000
0'
#500000
16
1<
1'
#520000
0'
#540000
06
b1 ;
b1 >
1=
1'
#560000
0'
#580000
1'
#600000
0'
#620000
1'
#640000
0'
#660000
1'
#680000
0'
#700000
1'
#720000
0,
0'
b1110 P
#740000
0<
1'
#760000
0'
#780000
0=
1'
#800000
0'
#820000
1'
#840000
0'
#860000
1'
#880000
0'
#900000
1'
#920000
0'
#940000
1'
#960000
0'
#970000
1,
#980000
16
1<
1'
#1000000
0'
#1020000
06
b10 ;
b11 >
1=
1'
#1040000
0'
#1060000
1'
#1080000
0'
#1100000
1'
#1120000
0'
#1140000
1'
#1160000
0'
#1180000
1'
#1200000
0'
#1220000
0+
0,
1'
b1101 P
#1240000
0'
#1260000
0<
1'
#1280000
0'
#1300000
0=
1'
#1320000
0'
#1340000
1'
#1360000
0'
#1380000
1'
#1400000
0'
#1420000
1'
#1440000
0'
#1460000
1'
#1470000
1,
#1480000
0'
#1500000
16
1<
1'
#1520000
0'
#1540000
06
b11 ;
b110 >
1=
1'
#1560000
0'
#1580000
1'
#1600000
0'
#1620000
1'
#1640000
0'
#1660000
1'
#1680000
0'
#1700000
1'
#1720000
0,
0'
b1100 P
#1740000
0<
1'
#1760000
0'
#1780000
0=
1'
#1800000
0'
#1820000
1'
#1840000
0'
#1860000
1'
#1880000
0'
#1900000
1'
#1920000
0'
#1940000
1'
#1960000
0'
#1970000
1,
#1980000
16
1<
1'
#2000000
0'
#2020000
06
b100 ;
b1100 >
1=
1'
#2040000
0'
#2060000
1'
#2080000
0'
#2100000
1'
#2120000
0'
#2140000
1'
#2160000
0'
#2180000
1'
#2200000
0'
#2220000
0,
1'
b1011 P
#2240000
0'
#2260000
0<
1'
#2280000
0'
#2300000
0=
1'
#2320000
0'
#2340000
1'
#2360000
0'
#2380000
1'
#2400000
0'
#2420000
1'
#2440000
0'
#2460000
1'
#2470000
1,
#2480000
0'
#2500000
16
1<
1'
#2520000
0'
#2540000
06
b101 ;
b11000 >
1=
1'
#2560000
0'
#2580000
1'
#2600000
0'
#2620000
1'
#2640000
0'
#2660000
1'
#2680000
0'
#2700000
1'
#2720000
0,
0'
b1010 P
#2740000
0<
1'
#2760000
0'
#2780000
0=
1'
#2800000
0'
#2820000
1'
#2840000
0'
#2860000
1'
#2880000
0'
#2900000
1'
#2920000
0'
#2940000
1'
#2960000
0'
#2970000
1,
#2980000
16
1<
1'
#3000000
0'
#3020000
06
b110 ;
b110000 >
1=
1'
#3040000
0'
#3060000
1'
#3080000
0'
#3100000
1'
#3120000
0'
#3140000
1'
#3160000
0'
#3180000
1'
#3200000
0'
#3220000
0,
1'
b1001 P
#3240000
0'
#3260000
0<
1'
#3280000
0'
#3300000
0=
1'
#3320000
0'
#3340000
1'
#3360000
0'
#3380000
1'
#3400000
0'
#3420000
1'
#3440000
0'
#3460000
1'
#3470000
1,
#3480000
0'
#3500000
16
1<
1'
#3520000
0'
#3540000
06
b111 ;
b1100000 >
1=
1'
#3560000
0'
#3580000
1'
#3600000
0'
#3620000
1'
#3640000
0'
#3660000
1'
#3680000
0'
#3700000
1'
#3720000
0,
0'
b1000 P
#3740000
0<
1'
#3760000
0'
#3780000
0=
1'
#3800000
0'
#3820000
1'
#3840000
0'
#3860000
1'
#3880000
0'
#3900000
1'
#3920000
0'
#3940000
1'
#3960000
0'
#3970000
1,
#3980000
16
1<
1'
#4000000
0'
#4020000
06
b1000 ;
b11000000 >
1=
1'
#4040000
0'
#4060000
1'
#4080000
0'
#4100000
1'
#4120000
0'
#4140000
1'
#4160000
0'
#4180000
1'
#4200000
0'
#4220000
1+
0,
1'
b111 P
#4240000
0'
#4260000
0<
1'
#4280000
0'
#4300000
0=
1'
#4320000
0'
#4340000
1'
#4360000
0'
#4380000
1'
#4400000
0'
#4420000
1'
#4440000
0'
#4460000
1'
#4470000
1,
#4480000
0'
#4500000
16
1<
1'
#4520000
0'
#4540000
06
b1001 ;
b110000001 >
1=
1'
#4560000
0'
#4580000
1'
#4600000
0'
#4620000
1'
#4640000
0'
#4660000
1'
#4680000
0'
#4700000
1'
#4720000
0,
0'
b110 P
#4740000
0<
1'
#4760000
0'
#4780000
0=
1'
#4800000
0'
#4820000
1'
#4840000
0'
#4860000
1'
#4880000
0'
#4900000
1'
#4920000
0'
#4940000
1'
#4960000
0'
#4970000
1,
#4980000
16
1<
1'
#5000000
0'
#5020000
06
b1010 ;
b1100000011 >
1=
1'
#5040000
0'
#5060000
1'
#5080000
0'
#5100000
1'
#5120000
0'
#5140000
1'
#5160000
0'
#5180000
1'
#5200000
0'
#5220000
0+
0,
1'
b101 P
#5240000
0'
#5260000
0<
1'
#5280000
0'
#5300000
0=
1'
#5320000
0'
#5340000
1'
#5360000
0'
#5380000
1'
#5400000
0'
#5420000
1'
#5440000
0'
#5460000
1'
#5470000
1,
#5480000
0'
#5500000
16
1<
1'
#5520000
0'
#5540000
06
b1011 ;
b11000000110 >
1=
1'
#5560000
0'
#5580000
1'
#5600000
0'
#5620000
1'
#5640000
0'
#5660000
1'
#5680000
0'
#5700000
1'
#5720000
1+
0,
0'
b100 P
#5740000
0<
1'
#5760000
0'
#5780000
0=
1'
#5800000
0'
#5820000
1'
#5840000
0'
#5860000
1'
#5880000
0'
#5900000
1'
#5920000
0'
#5940000
1'
#5960000
0'
#5970000
1,
#5980000
16
1<
1'
#6000000
0'
#6020000
06
b1100 ;
b110000001101 >
1=
1'
#6040000
0'
#6060000
1'
#6080000
0'
#6100000
1'
#6120000
0'
#6140000
1'
#6160000
0'
#6180000
1'
#6200000
0'
#6220000
0,
1'
b11 P
#6240000
0'
#6260000
0<
1'
#6280000
0'
#6300000
0=
1'
#6320000
0'
#6340000
1'
#6360000
0'
#6380000
1'
#6400000
0'
#6420000
1'
#6440000
0'
#6460000
1'
#6470000
1,
#6480000
0'
#6500000
16
1<
1'
#6520000
0'
#6540000
06
b1101 ;
b1100000011011 >
1=
1'
#6560000
0'
#6580000
1'
#6600000
0'
#6620000
1'
#6640000
0'
#6660000
1'
#6680000
0'
#6700000
1'
#6720000
0,
0'
b10 P
#6740000
0<
1'
#6760000
0'
#6780000
0=
1'
#6800000
0'
#6820000
1'
#6840000
0'
#6860000
1'
#6880000
0'
#6900000
1'
#6920000
0'
#6940000
1'
#6960000
0'
#6970000
1,
#6980000
16
1<
1'
#7000000
0'
#7020000
06
b1110 ;
b11000000110111 >
1=
1'
#7040000
0'
#7060000
1'
#7080000
0'
#7100000
1'
#7120000
0'
#7140000
1'
#7160000
0'
#7180000
1'
#7200000
0'
#7220000
0,
1'
b1 P
#7240000
0'
#7260000
0<
1'
#7280000
0'
#7300000
0=
1'
#7320000
0'
#7340000
1'
#7360000
0'
#7380000
1'
#7400000
0'
#7420000
1'
#7440000
0'
#7460000
1'
#7470000
1,
#7480000
0'
#7500000
16
1<
1'
#7520000
0'
#7540000
06
b1111 ;
b110000001101111 >
1=
1'
#7560000
0'
#7580000
1'
#7600000
0'
#7620000
1'
#7640000
0'
#7660000
1'
#7680000
0'
#7700000
1'
#7720000
0+
0,
0'
b0 P
#7740000
0<
1'
#7760000
0'
#7780000
0=
1'
#7800000
0'
#7820000
1'
#7840000
0'
#7860000
1'
#7880000
0'
#7900000
1'
#7920000
0'
#7940000
1'
#7960000
0'
#7970000
1,
#7980000
16
1<
1'
#8000000
0'
#8020000
06
1.
b1100000011011110 /
b1100000011011110 @
b0 ;
13
b1100000011011110 0
b1100000011011110 :
b1100000011011110 K
b1100000011011110 >
1=
1'
#8040000
0'
#8060000
03
1F
0#
b1000110000001101 I
b1 J
b1101100011110000 2
b1101100011110000 N
11
1'
#8080000
0'
#8100000
1F
b1 G
b0 2
b0 N
01
1'
#8120000
0'
#8140000
b10 G
1F
1'
#8160000
0'
#8180000
1F
b11 G
1'
#8200000
0'
#8220000
b100 G
1F
0,
1'
b11111111111111111111111111111111 P
#8240000
0'
#8260000
1F
b101 G
0<
1'
#8280000
0'
#8300000
1!
1H
b0 G
b1 E
b1100000011010 I
1"
1F
0=
0*
1'
#8320000
0'
#8340000
1F
b1 G
b0 ?
1'
#8360000
0'
#8380000
b10 G
1F
1'
#8400000
0'
#8420000
1F
b11 G
1'
#8440000
0'
#8460000
b100 G
1F
1'
#8480000
0'
#8500000
1F
b101 G
1'
#8520000
0'
#8540000
0!
0H
b0 G
1F
1'
#8560000
0'
#8580000
1F
b1 G
1'
#8600000
0'
#8620000
b10 G
1F
1'
#8640000
0'
#8660000
1F
b11 G
1'
#8680000
0'
#8700000
b100 G
1F
1'
#8720000
0'
#8740000
1F
b101 G
1'
#8760000
0'
#8780000
1!
1H
b0 G
b10 E
b11000000110100 I
0"
1F
1'
#8800000
0'
#8820000
1F
b1 G
1'
#8840000
0'
#8860000
b10 G
1F
1'
#8880000
0'
#8900000
1F
b11 G
1'
#8920000
0'
#8940000
b100 G
1F
1'
#8960000
0'
#8980000
1F
b101 G
1'
#9000000
0'
#9020000
0!
0H
b0 G
1F
1'
#9040000
0'
#9060000
1F
b1 G
1'
#9080000
0'
#9100000
b10 G
1F
1'
#9120000
0'
#9140000
1F
b11 G
1'
#9160000
0'
#9180000
b100 G
1F
1'
#9200000
0'
#9220000
1F
b101 G
1'
#9240000
0'
#9260000
1!
1H
b0 G
b11 E
b110000001101000 I
1F
1'
#9280000
0'
#9300000
1F
b1 G
1'
#9320000
0'
#9340000
b10 G
1F
1'
#9360000
0'
#9380000
1F
b11 G
1'
#9400000
0'
#9420000
b100 G
1F
1'
#9440000
0'
#9460000
1F
b101 G
1'
#9480000
0'
#9500000
0!
0H
b0 G
1F
1'
#9520000
0'
#9540000
1F
b1 G
1'
#9560000
0'
#9580000
b10 G
1F
1'
#9600000
0'
#9620000
1F
b11 G
1'
#9640000
0'
#9660000
b100 G
1F
1'
#9680000
0'
#9700000
1F
b101 G
1'
#9720000
0'
#9740000
1!
1H
b0 G
b100 E
b1100000011010000 I
1F
1'
#9760000
0'
#9780000
1F
b1 G
1'
#9800000
0'
#9820000
b10 G
1F
1'
#9840000
0'
#9860000
1F
b11 G
1'
#9880000
0'
#9900000
b100 G
1F
1'
#9920000
0'
#9940000
1F
b101 G
1'
#9960000
0'
#9980000
0!
0H
b0 G
1F
1'
#10000000
0'
#10020000
1F
b1 G
1'
#10040000
0'
#10060000
b10 G
1F
1'
